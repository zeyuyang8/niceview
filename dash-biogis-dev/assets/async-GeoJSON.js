"use strict";(self.webpackChunkdash_leaflet=self.webpackChunkdash_leaflet||[]).push([[618],{9742:(t,e)=>{e.b$=function(t){var e,r,i=function(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}(t),s=i[0],a=i[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,a)),c=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[c++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e),u};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},3855:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(8081),o=r.n(n),i=r(3645),s=r.n(i)()(o());s.push([t.id,'.marker-cluster-small {\n\tbackground-color: rgba(181, 226, 140, 0.6);\n\t}\n\n.marker-cluster-small div {\n\tbackground-color: rgba(110, 204, 57, 0.6);\n\t}\n\n.marker-cluster-medium {\n\tbackground-color: rgba(241, 211, 87, 0.6);\n\t}\n\n.marker-cluster-medium div {\n\tbackground-color: rgba(240, 194, 12, 0.6);\n\t}\n\n.marker-cluster-large {\n\tbackground-color: rgba(253, 156, 115, 0.6);\n\t}\n\n.marker-cluster-large div {\n\tbackground-color: rgba(241, 128, 23, 0.6);\n\t}\n\n\t/* IE 6-8 fallback colors */\n.leaflet-oldie .marker-cluster-small {\n\tbackground-color: rgb(181, 226, 140);\n\t}\n.leaflet-oldie .marker-cluster-small div {\n\tbackground-color: rgb(110, 204, 57);\n\t}\n\n.leaflet-oldie .marker-cluster-medium {\n\tbackground-color: rgb(241, 211, 87);\n\t}\n\n.leaflet-oldie .marker-cluster-medium div {\n\tbackground-color: rgb(240, 194, 12);\n\t}\n\n.leaflet-oldie .marker-cluster-large {\n\tbackground-color: rgb(253, 156, 115);\n\t}\n\n.leaflet-oldie .marker-cluster-large div {\n\tbackground-color: rgb(241, 128, 23);\n}\n\n.marker-cluster {\n\tbackground-clip: padding-box;\n\tborder-radius: 20px;\n\t}\n\n.marker-cluster div {\n\twidth: 30px;\n\theight: 30px;\n\tmargin-left: 5px;\n\tmargin-top: 5px;\n\n\ttext-align: center;\n\tborder-radius: 15px;\n\tfont: 12px "Helvetica Neue", Arial, Helvetica, sans-serif;\n\t}\n\n.marker-cluster span {\n\tline-height: 30px;\n}\n\n.leaflet-cluster-anim .leaflet-marker-icon, .leaflet-cluster-anim .leaflet-marker-shadow {\n\t-webkit-transition: -webkit-transform 0.3s ease-out, opacity 0.3s ease-in;\n\t-moz-transition: -moz-transform 0.3s ease-out, opacity 0.3s ease-in;\n\t-o-transition: -o-transform 0.3s ease-out, opacity 0.3s ease-in;\n\ttransition: transform 0.3s ease-out, opacity 0.3s ease-in;\n}\n\n.leaflet-cluster-spider-leg {\n\t/* stroke-dashoffset (duration and function) should match with leaflet-marker-icon transform in order to track it exactly */\n\t-webkit-transition: -webkit-stroke-dashoffset 0.3s ease-out, -webkit-stroke-opacity 0.3s ease-in;\n\t-moz-transition: -moz-stroke-dashoffset 0.3s ease-out, -moz-stroke-opacity 0.3s ease-in;\n\t-o-transition: -o-stroke-dashoffset 0.3s ease-out, -o-stroke-opacity 0.3s ease-in;\n\ttransition: stroke-dashoffset 0.3s ease-out, stroke-opacity 0.3s ease-in;\n}',""]);const a=s},1490:t=>{var e,r,n,o,i;t.exports=function(t){o=2,i=Math.pow(10,6),n=null,e=[],r=[];var s=t.readFields(a,{});return e=null,s};var s=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function a(t,r,n){1===t?e.push(n.readString()):2===t?o=n.readVarint():3===t?i=Math.pow(10,n.readVarint()):4===t?function(t,e){e.type="FeatureCollection",e.features=[],t.readMessage(l,e)}(n,r):5===t?u(n,r):6===t&&c(n,r)}function u(t,e){e.type="Feature";var r=t.readMessage(f,e);return"geometry"in r||(r.geometry=null),r}function c(t,e){return e.type="Point",t.readMessage(p,e)}function l(t,e,n){1===t?e.features.push(u(n,{})):13===t?r.push(d(n)):15===t&&h(n,e)}function f(t,e,n){1===t?e.geometry=c(n,{}):11===t?e.id=n.readString():12===t?e.id=n.readSVarint():13===t?r.push(d(n)):14===t?e.properties=h(n,{}):15===t&&h(n,e)}function p(t,e,o){1===t?e.type=s[o.readVarint()]:2===t?n=o.readPackedVarint():3===t?function(t,e,r){"Point"===r?t.coordinates=function(t){for(var e=t.readVarint()+t.pos,r=[];t.pos<e;)r.push(t.readSVarint()/i);return r}(e):"MultiPoint"===r||"LineString"===r?t.coordinates=function(t){return g(t,t.readVarint()+t.pos)}(e):"MultiLineString"===r?t.coordinates=y(e):"Polygon"===r?t.coordinates=y(e,!0):"MultiPolygon"===r&&(t.coordinates=function(t){var e=t.readVarint()+t.pos;if(!n)return[[g(t,e,null,!0)]];for(var r=[],o=1,i=0;i<n[0];i++){for(var s=[],a=0;a<n[o];a++)s.push(g(t,e,n[o+1+a],!0));o+=n[o]+1,r.push(s)}return n=null,r}(e))}(e,o,e.type):4===t?(e.geometries=e.geometries||[],e.geometries.push(c(o,{}))):13===t?r.push(d(o)):15===t&&h(o,e)}function d(t){for(var e=t.readVarint()+t.pos,r=null;t.pos<e;){var n=t.readVarint()>>3;1===n?r=t.readString():2===n?r=t.readDouble():3===n?r=t.readVarint():4===n?r=-t.readVarint():5===n?r=t.readBoolean():6===n&&(r=JSON.parse(t.readString()))}return r}function h(t,n){for(var o=t.readVarint()+t.pos;t.pos<o;)n[e[t.readVarint()]]=r[t.readVarint()];return r=[],n}function g(t,e,r,n){var s,a,u=0,c=[],l=[];for(a=0;a<o;a++)l[a]=0;for(;r?u<r:t.pos<e;){for(s=[],a=0;a<o;a++)l[a]+=t.readSVarint(),s[a]=l[a]/i;c.push(s),u++}return n&&c.push(c[0]),c}function y(t,e){var r=t.readVarint()+t.pos;if(!n)return[g(t,r,null,e)];for(var o=[],i=0;i<n.length;i++)o.push(g(t,r,n[i],e));return n=null,o}},2020:t=>{t.exports=function(t,a){e={},n=[],r=0,o=0,i=1,u(t),i=Math.min(i,s);for(var c=Math.ceil(Math.log(i)/Math.LN10),l=0;l<n.length;l++)a.writeStringField(1,n[l]);return 2!==o&&a.writeVarintField(2,o),6!==c&&a.writeVarintField(3,c),"FeatureCollection"===t.type?a.writeMessage(4,d,t):"Feature"===t.type?a.writeMessage(5,h,t):a.writeMessage(6,g,t),e=null,a.finish()};var e,r,n,o,i,s=1e6,a={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function u(t){var e,r;if("FeatureCollection"===t.type)for(e=0;e<t.features.length;e++)u(t.features[e]);else if("Feature"===t.type)for(r in null!==t.geometry&&u(t.geometry),t.properties)p(r);else if("Point"===t.type)f(t.coordinates);else if("MultiPoint"===t.type)l(t.coordinates);else if("GeometryCollection"===t.type)for(e=0;e<t.geometries.length;e++)u(t.geometries[e]);else if("LineString"===t.type)l(t.coordinates);else if("Polygon"===t.type||"MultiLineString"===t.type)c(t.coordinates);else if("MultiPolygon"===t.type)for(e=0;e<t.coordinates.length;e++)c(t.coordinates[e]);for(r in t)M(r,t.type)||p(r)}function c(t){for(var e=0;e<t.length;e++)l(t[e])}function l(t){for(var e=0;e<t.length;e++)f(t[e])}function f(t){o=Math.max(o,t.length);for(var e=0;e<t.length;e++)for(;Math.round(t[e]*i)/i!==t[e]&&i<s;)i*=10}function p(t){void 0===e[t]&&(n.push(t),e[t]=r++)}function d(t,e){for(var r=0;r<t.features.length;r++)e.writeMessage(1,h,t.features[r]);y(t,e,!0)}function h(t,e){null!==t.geometry&&e.writeMessage(1,g,t.geometry),void 0!==t.id&&("number"==typeof t.id&&t.id%1==0?e.writeSVarintField(12,t.id):e.writeStringField(11,t.id)),t.properties&&y(t.properties,e),y(t,e,!0)}function g(t,e){e.writeVarintField(1,a[t.type]);var r=t.coordinates;if("Point"===t.type)!function(t,e){for(var r=[],n=0;n<o;n++)r.push(Math.round(t[n]*i));e.writePackedSVarint(3,r)}(r,e);else if("MultiPoint"===t.type)v(r,e);else if("LineString"===t.type)v(r,e);else if("MultiLineString"===t.type)w(r,e);else if("Polygon"===t.type)w(r,e,!0);else if("MultiPolygon"===t.type)!function(t,e){var r,n,o=t.length;if(1!==o||1!==t[0].length){var i=[o];for(r=0;r<o;r++)for(i.push(t[r].length),n=0;n<t[r].length;n++)i.push(t[r][n].length-1);e.writePackedVarint(2,i)}var s=[];for(r=0;r<o;r++)for(n=0;n<t[r].length;n++)b(s,t[r][n],!0);e.writePackedSVarint(3,s)}(r,e);else if("GeometryCollection"===t.type)for(var n=0;n<t.geometries.length;n++)e.writeMessage(4,g,t.geometries[n]);y(t,e,!0)}function y(t,r,n){var o=[],i=0;for(var s in t)n&&M(s,t.type)||(r.writeMessage(13,m,t[s]),o.push(e[s]),o.push(i++));r.writePackedVarint(n?15:14,o)}function m(t,e){if(null!==t){var r=typeof t;"string"===r?e.writeStringField(1,t):"boolean"===r?e.writeBooleanField(5,t):"object"===r?e.writeStringField(6,JSON.stringify(t)):"number"===r&&(t%1!=0?e.writeDoubleField(2,t):t>=0?e.writeVarintField(3,t):e.writeVarintField(4,-t))}}function v(t,e){var r=[];b(r,t),e.writePackedSVarint(3,r)}function w(t,e,r){var n,o=t.length;if(1!==o){var i=[];for(n=0;n<o;n++)i.push(t[n].length-(r?1:0));e.writePackedVarint(2,i)}var s=[];for(n=0;n<o;n++)b(s,t[n],r);e.writePackedSVarint(3,s)}function b(t,e,r){var n,s,a=e.length-(r?1:0),u=new Array(o);for(s=0;s<o;s++)u[s]=0;for(n=0;n<a;n++)for(s=0;s<o;s++){var c=Math.round(e[n][s]*i)-u[s];t.push(c),u[s]+=c}}function M(t,e){if("type"===t)return!0;if("FeatureCollection"===e){if("features"===t)return!0}else if("Feature"===e){if("id"===t||"properties"===t||"geometry"===t)return!0}else if("GeometryCollection"===e){if("geometries"===t)return!0}else if("coordinates"===t)return!0;return!1}},4951:(t,e,r)=>{r(2020),e.decode=r(1490)},7145:(t,e)=>{function r(t){return"object"!=typeof t||"toString"in t?t:Object.prototype.toString.call(t).slice(8,-1)}Object.defineProperty(e,"__esModule",{value:!0});var n="object"==typeof process&&!0;function o(t,e){if(!t){if(n)throw new Error("Invariant failed");throw new Error(e())}}e.invariant=o;var i=Object.prototype.hasOwnProperty,s=Array.prototype.splice,a=Object.prototype.toString;function u(t){return a.call(t).slice(8,-1)}var c=Object.assign||function(t,e){return l(e).forEach((function(r){i.call(e,r)&&(t[r]=e[r])})),t},l="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function f(t){return Array.isArray(t)?c(t.constructor(t.length),t):"Map"===u(t)?new Map(t):"Set"===u(t)?new Set(t):t&&"object"==typeof t?c(Object.create(Object.getPrototypeOf(t)),t):t}var p=function(){function t(){this.commands=c({},d),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var r=this,n="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(n)||o(!Array.isArray(n),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),o("object"==typeof n&&null!==n,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(r.commands).join(", ")+"."}));var s=t;return l(n).forEach((function(e){if(i.call(r.commands,e)){var o=t===s;s=r.commands[e](n[e],s,n,t),o&&r.isEquals(s,t)&&(s=t)}else{var a="Map"===u(t)?r.update(t.get(e),n[e]):r.update(t[e],n[e]),c="Map"===u(s)?s.get(e):s[e];r.isEquals(a,c)&&(void 0!==a||i.call(t,e))||(s===t&&(s=f(t)),"Map"===u(s)?s.set(e,a):s[e]=a)}})),s},t}();e.Context=p;var d={$push:function(t,e,r){return g(e,r,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,r){return g(e,r,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,n,i){return function(t,e){o(Array.isArray(t),(function(){return"Expected $splice target to be an array; got "+r(t)})),m(e.$splice)}(e,n),t.forEach((function(t){m(t),e===i&&t.length&&(e=f(i)),s.apply(e,t)})),e},$set:function(t,e,r){return function(t){o(1===Object.keys(t).length,(function(){return"Cannot have more than one key in an object with $set"}))}(r),t},$toggle:function(t,e){y(t,"$toggle");var r=t.length?f(e):e;return t.forEach((function(t){r[t]=!e[t]})),r},$unset:function(t,e,r,n){return y(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===n&&(e=f(n)),delete e[t])})),e},$add:function(t,e,r,n){return v(e,"$add"),y(t,"$add"),"Map"===u(e)?t.forEach((function(t){var r=t[0],o=t[1];e===n&&e.get(r)!==o&&(e=f(n)),e.set(r,o)})):t.forEach((function(t){e!==n||e.has(t)||(e=f(n)),e.add(t)})),e},$remove:function(t,e,r,n){return v(e,"$remove"),y(t,"$remove"),t.forEach((function(t){e===n&&e.has(t)&&(e=f(n)),e.delete(t)})),e},$merge:function(t,e,n,i){var s,a;return s=e,o((a=t)&&"object"==typeof a,(function(){return"update(): $merge expects a spec of type 'object'; got "+r(a)})),o(s&&"object"==typeof s,(function(){return"update(): $merge expects a target of type 'object'; got "+r(s)})),l(t).forEach((function(r){t[r]!==e[r]&&(e===i&&(e=f(i)),e[r]=t[r])})),e},$apply:function(t,e){var n;return o("function"==typeof(n=t),(function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."})),t(e)}},h=new p;function g(t,e,n){o(Array.isArray(t),(function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(t)+"."})),y(e[n],n)}function y(t,e){o(Array.isArray(t),(function(){return"update(): expected spec of "+r(e)+" to be an array; got "+r(t)+". Did you forget to wrap your parameter in an array?"}))}function m(t){o(Array.isArray(t),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(t)+". Did you forget to wrap your parameters in an array?"}))}function v(t,e){var n=u(t);o("Map"===n||"Set"===n,(function(){return"update(): "+r(e)+" expects a target of type Set or Map; got "+r(n)}))}e.isEquals=h.update.isEquals,e.extend=h.extend,e.default=h.update,e.default.default=t.exports=c(e.default,e)},5973:(t,e,r)=>{r.r(e),r.d(e,{default:()=>g});var n=r(3379),o=r.n(n),i=r(7795),s=r.n(i),a=r(3565),u=r.n(a),c=r(9216),l=r.n(c),f=r(4589),p=r.n(f),d=r(3855),h={};h.styleTagTransform=p(),h.setAttributes=u(),h.insert=function(t){var e=document.querySelector("head"),r=window._lastElementInsertedByStyleLoader;r?r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),window._lastElementInsertedByStyleLoader=t},h.domAPI=s(),h.insertStyleElement=l(),o()(d.Z,h);const g=d.Z&&d.Z.locals?d.Z.locals:void 0},1930:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Y});var n=r(7582),o=r(5812),i=r.n(o),s=r(5243),a=r(9153),u=r(7999),c=r(1410),l=r(9534),f=r(1802),p=r(3655),d=r(620);const h=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class g{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,r]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const n=r>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const o=h[15&r];if(!o)throw new Error("Unrecognized array type.");const[i]=new Uint16Array(t,2,1),[s]=new Uint32Array(t,4,1);return new g(s,i,o,t)}constructor(t,e=64,r=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const o=h.indexOf(this.ArrayType),i=2*t*this.ArrayType.BYTES_PER_ELEMENT,s=t*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+a,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+i+s+a),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+s+a,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return y(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:s}=this,a=[0,o.length-1,0],u=[];for(;a.length;){const c=a.pop()||0,l=a.pop()||0,f=a.pop()||0;if(l-f<=s){for(let s=f;s<=l;s++){const a=i[2*s],c=i[2*s+1];a>=t&&a<=r&&c>=e&&c<=n&&u.push(o[s])}continue}const p=f+l>>1,d=i[2*p],h=i[2*p+1];d>=t&&d<=r&&h>=e&&h<=n&&u.push(o[p]),(0===c?t<=d:e<=h)&&(a.push(f),a.push(p-1),a.push(1-c)),(0===c?r>=d:n>=h)&&(a.push(p+1),a.push(l),a.push(1-c))}return u}within(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:o,nodeSize:i}=this,s=[0,n.length-1,0],a=[],u=r*r;for(;s.length;){const c=s.pop()||0,l=s.pop()||0,f=s.pop()||0;if(l-f<=i){for(let r=f;r<=l;r++)b(o[2*r],o[2*r+1],t,e)<=u&&a.push(n[r]);continue}const p=f+l>>1,d=o[2*p],h=o[2*p+1];b(d,h,t,e)<=u&&a.push(n[p]),(0===c?t-r<=d:e-r<=h)&&(s.push(f),s.push(p-1),s.push(1-c)),(0===c?t+r>=d:e+r>=h)&&(s.push(p+1),s.push(l),s.push(1-c))}return a}}function y(t,e,r,n,o,i){if(o-n<=r)return;const s=n+o>>1;m(t,e,s,n,o,i),y(t,e,r,n,s-1,1-i),y(t,e,r,s+1,o,1-i)}function m(t,e,r,n,o,i){for(;o>n;){if(o-n>600){const s=o-n+1,a=r-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(s-c)/s)*(a-s/2<0?-1:1);m(t,e,r,Math.max(n,Math.floor(r-a*c/s+l)),Math.min(o,Math.floor(r+(s-a)*c/s+l)),i)}const s=e[2*r+i];let a=n,u=o;for(v(t,e,n,r),e[2*o+i]>s&&v(t,e,n,o);a<u;){for(v(t,e,a,u),a++,u--;e[2*a+i]<s;)a++;for(;e[2*u+i]>s;)u--}e[2*n+i]===s?v(t,e,n,u):(u++,v(t,e,u,o)),u<=r&&(n=u+1),r<=u&&(o=u-1)}}function v(t,e,r,n){w(t,r,n),w(e,2*r,2*n),w(e,2*r+1,2*n+1)}function w(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n){const o=t-r,i=e-n;return o*o+i*i}const M={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},k=Math.fround||(x=new Float32Array(1),t=>(x[0]=+t,x[0]));var x;const A=3,_=5,S=6;class E{constructor(t){this.options=Object.assign(Object.create(M),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:r,maxZoom:n}=this.options;e&&console.time("total time");const o=`prepare ${t.length} points`;e&&console.time(o),this.points=t;const i=[];for(let e=0;e<t.length;e++){const r=t[e];if(!r.geometry)continue;const[n,o]=r.geometry.coordinates,s=k(C(n)),a=k(j(o));i.push(s,a,1/0,e,-1,1),this.options.reduce&&i.push(0)}let s=this.trees[n+1]=this._createTree(i);e&&console.timeEnd(o);for(let t=n;t>=r;t--){const r=+Date.now();s=this.trees[t]=this._createTree(this._cluster(s,t)),e&&console.log("z%d: %d clusters in %dms",t,s.numItems,+Date.now()-r)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let o=180===t[2]?180:((t[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){const t=this.getClusters([r,n,180,i],e),s=this.getClusters([-180,n,o,i],e);return t.concat(s)}const s=this.trees[this._limitZoom(e)],a=s.range(C(r),j(i),C(o),j(n)),u=s.data,c=[];for(const t of a){const e=this.stride*t;c.push(u[e+_]>1?P(u,e,this.clusterProps):this.points[u[e+A]])}return c}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const i=o.data;if(e*this.stride>=i.length)throw new Error(n);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=i[e*this.stride],u=i[e*this.stride+1],c=o.within(a,u,s),l=[];for(const e of c){const r=e*this.stride;i[r+4]===t&&l.push(i[r+_]>1?P(i,r,this.clusterProps):this.points[i[r+A]])}if(0===l.length)throw new Error(n);return l}getLeaves(t,e,r){e=e||10,r=r||0;const n=[];return this._appendLeaves(n,t,e,r,0),n}getTile(t,e,r){const n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:s}=this.options,a=s/i,u=(r-a)/o,c=(r+1+a)/o,l={features:[]};return this._addTileFeatures(n.range((e-a)/o,u,(e+1+a)/o,c),n.data,e,r,o,l),0===e&&this._addTileFeatures(n.range(1-a/o,u,1,c),n.data,o,r,o,l),e===o-1&&this._addTileFeatures(n.range(0,u,a/o,c),n.data,-1,r,o,l),l.features.length?l:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,n,o){const i=this.getChildren(e);for(const e of i){const i=e.properties;if(i&&i.cluster?o+i.point_count<=n?o+=i.point_count:o=this._appendLeaves(t,i.cluster_id,r,n,o):o<n?o++:t.push(e),t.length===r)break}return o}_createTree(t){const e=new g(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<t.length;r+=this.stride)e.add(t[r],t[r+1]);return e.finish(),e.data=t,e}_addTileFeatures(t,e,r,n,o,i){for(const s of t){const t=s*this.stride,a=e[t+_]>1;let u,c,l;if(a)u=O(e,t,this.clusterProps),c=e[t],l=e[t+1];else{const r=this.points[e[t+A]];u=r.properties;const[n,o]=r.geometry.coordinates;c=C(n),l=j(o)}const f={type:1,geometry:[[Math.round(this.options.extent*(c*o-r)),Math.round(this.options.extent*(l*o-n))]],tags:u};let p;p=a||this.options.generateId?e[t+A]:this.points[e[t+A]].id,void 0!==p&&(f.id=p),i.features.push(f)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:r,extent:n,reduce:o,minPoints:i}=this.options,s=r/(n*Math.pow(2,e)),a=t.data,u=[],c=this.stride;for(let r=0;r<a.length;r+=c){if(a[r+2]<=e)continue;a[r+2]=e;const n=a[r],l=a[r+1],f=t.within(a[r],a[r+1],s),p=a[r+_];let d=p;for(const t of f){const r=t*c;a[r+2]>e&&(d+=a[r+_])}if(d>p&&d>=i){let t,i=n*p,s=l*p,h=-1;const g=((r/c|0)<<5)+(e+1)+this.points.length;for(const n of f){const u=n*c;if(a[u+2]<=e)continue;a[u+2]=e;const l=a[u+_];i+=a[u]*l,s+=a[u+1]*l,a[u+4]=g,o&&(t||(t=this._map(a,r,!0),h=this.clusterProps.length,this.clusterProps.push(t)),o(t,this._map(a,u)))}a[r+4]=g,u.push(i/d,s/d,1/0,g,-1,d),o&&u.push(h)}else{for(let t=0;t<c;t++)u.push(a[r+t]);if(d>1)for(const t of f){const r=t*c;if(!(a[r+2]<=e)){a[r+2]=e;for(let t=0;t<c;t++)u.push(a[r+t])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,r){if(t[e+_]>1){const n=this.clusterProps[t[e+S]];return r?Object.assign({},n):n}const n=this.points[t[e+A]].properties,o=this.options.map(n);return r&&o===n?Object.assign({},o):o}}function P(t,e,r){return{type:"Feature",id:t[e+A],properties:O(t,e,r),geometry:{type:"Point",coordinates:[(n=t[e],360*(n-.5)),T(t[e+1])]}};var n}function O(t,e,r){const n=t[e+_],o=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?Math.round(n/100)/10+"k":n,i=t[e+S],s=-1===i?{}:Object.assign({},r[i]);return Object.assign(s,{cluster:!0,cluster_id:t[e+A],point_count:n,point_count_abbreviated:o})}function C(t){return t/360+.5}function j(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function T(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}var F=r(7145),L=r.n(F),$=r(605),I=r(5226),V=r(9742),B=r(4951);r(5973);var Z=["pointToLayer","style","onEachFeature","filter","coordsToLatLng"],z=Z.concat(["markersInheritOptions"]);function N(t,e,r){var o=(0,n.pi)({map:e},t),i=t.clusterToLayer?(0,I.S4)(t.clusterToLayer,o):void 0,a=(0,I.is)($.ei.apply(void 0,(0,n.ev)([t],z,!1)),Z,o),u=a.pointToLayer;return a.onEachFeature||(a.onEachFeature=function(t,e){t.properties&&(t.properties.popup&&e.bindPopup(t.properties.popup),t.properties.tooltip&&e.bindTooltip(t.properties.tooltip))}),t.cluster?(a.pointToLayer=function(t,e){return t.properties.cluster?i?i(t,e,r.current):function(t,e,r){var n=[{minCount:0,className:"marker-cluster marker-cluster-small"},{minCount:100,className:"marker-cluster marker-cluster-medium"},{minCount:1e3,className:"marker-cluster marker-cluster-large"}],o=t.properties.point_count,i="";for(var a in n)o>n[a].minCount&&(i=n[a].className);var u=s.divIcon({html:"<div><span>"+t.properties.point_count_abbreviated+"</span></div>",className:i,iconSize:s.point(40,40)});return s.marker(e,{icon:u})}(t,e):u?u(t,e):G(0,e,a)},a.style||(a.style={weight:1.5,color:"#222",opacity:.5})):a.pointToLayer=function(t,e){return u?u(t,e):G(0,e,a)},a}function U(t,e,r){if(!r||!("maxZoom"in r)){var n=e._layersMaxZoom;n&&(r?r.maxZoom=n:r={maxZoom:n})}var o=new E(r);return o.load(t.features),o}function D(t,e,r,n,o){var i=r.getBounds(),a=[i.getWest(),i.getSouth(),i.getEast(),i.getNorth()],u=r.getZoom(),c=null;try{c=n.getClusters(a,u)}catch(t){return}e.spiderfyOnMaxZoom&&o.current&&(o.current.zoom&&o.current.zoom!==u?o.current=null:(c=function(t,e,r,n){var o=1,i=2*Math.PI,a=25,u=0,c=28,l=11,f=5;function p(r){var n,p,d,h=r.geometry.coordinates,g=t.latLngToLayerPoint([h[1],h[0]]),y=e.getLeaves(r.properties.cluster_id,1e3,0);y.length>=9?n=function(t,e){var r,n=o*c,a=o*l,u=o*f*i,p=0,d=[];for(d.length=t,r=t;r>=0;r--)r<t&&(d[r]=new s.Point(e.x+a*Math.cos(p),e.y+a*Math.sin(p)).round()),a+=u/(p+=n/a+5e-4*r);return d}(y.length,g):(g.y+=10,n=function(t,e){var r,n,c=i/t,l=[],f=o*a*(2+t)/i;for(f=Math.max(f,35),l.length=t,r=0;r<t;r++)n=u+r*c,l[r]=new s.Point(e.x+f*Math.cos(n),e.y+f*Math.sin(n)).round();return l}(y.length,g));for(var m=[],v=0;v<y.length;v++)d=t.layerPointToLatLng(n[v]),p=[r.geometry.coordinates,[d.lng,d.lat]],m.push({type:"Feature",geometry:{type:"LineString",coordinates:p},properties:{id:y[v].properties.id}}),y[v]=L()(y[v],{geometry:{coordinates:{$set:[d.lng,d.lat]}}});return y.concat(m)}var d=r.filter((function(t){return n.includes(t.properties.cluster_id)}));if(d.length<1)return r;for(var h=r.filter((function(t){return!n.includes(t.properties.cluster_id)})),g=0;g<d.length;g++)h=h.concat(p(d[g]));return h}(r,n,c,[o.current.clusterId]),o.current.zoom=u)),Object.keys(t._layers).length>0&&(c=function(t,e){var r=t._layers;if(0==Object.keys(r).length)return e;for(var n=e.filter((function(t){return!t.properties.cluster})).map((function(t){return t.properties.id})),o=e.filter((function(t){return t.properties.cluster})).map((function(t){return t.properties.cluster_id})),i=[],s=[],a=0,u=Object.values(r);a<u.length;a++){var c=u[a],l=c.feature.properties;l.cluster?o.includes(l.cluster_id)?s.push(l.cluster_id):t.removeLayer(c):n.includes(l.id)?i.push(l.id):t.removeLayer(c)}return e.filter((function(t){return t.properties.cluster?!s.includes(t.properties.cluster_id):!i.includes(t.properties.id)}))}(t,c)),0!==c.length&&t.addData(c)}function q(t,e,r,n,o,i){if(!e.cluster)return function(t,e,r,n){t.clearLayers(),t.addData(n),e.zoomToBounds&&n.features.length>0&&t.getBounds()._southWest&&r.fitBounds(t.getBounds())}(t,e,r,n);if(e.zoomToBounds&&n.features.length>0){var a=s.geoJSON(n);r.fitBounds(a.getBounds())}D(t,e,r,o,i)}function G(t,e,r){return new s.Marker(e,r&&r.markersInheritOptions&&r)}var R=(0,u.I)((function(t,e){var r=new s.GeoJSON(null);return(0,u.O)(r,(0,c.sj)(e,{overlayContainer:r}))})),J=(0,l.RA)((function(t){var e=(0,c.mE)(),i=R((0,f.q)(t,e),e);return(0,p.g)(i.current,e),(0,d.t)(i.current,t.eventHandlers),function(t,e){var i=(0,a.Sx)(),u=t.instance,c=(0,o.useRef)(),l=(0,o.useRef)(),f=(0,o.useRef)(),p=(0,o.useRef)(e),d=(0,o.useRef)(!1),h=function(t){p.current.cluster&&D(u,p.current,i,c.current,f)},g=function(t){return function(t,e,r,n,o,i){var s=r.zoomToBoundsOnClick,a=r.spiderfyOnMaxZoom,u=r.cluster;if(s||u&&a)if(u){if(t.layer.feature.properties){var c=t.layer.feature.properties.cluster_id;if(c){var l=t.latlng,f=o.getClusterExpansionZoom(c),p=f>o.options.maxZoom;p&&(i.current={clusterId:c}),s?p?n.flyTo(l):n.flyTo(l,f):D(e,r,n,o,i)}}}else t.layer.getBounds&&n.fitBounds(t.layer.getBounds())}(t,u,p.current,i,c.current,f)},y=function(t){var r=t.layer.feature,o=p.current.hoverStyle;o&&(o="function"==typeof(o=(0,I.S4)(o,(0,n.pi)({map:i},e)))?o(r):o,t.layer.setStyle(o),s.Browser.ie||s.Browser.opera||s.Browser.edge||t.layer.bringToFront())},m=function(t){p.current.hoverStyle&&u.resetStyle(t.layer)},v=function(t){void 0===t&&(t=!1),d.current=!0,function(t){var e,o,i,s,a,u,c,l;return(0,n.mG)(this,void 0,void 0,(function(){var f,p,d,h,g,y,m,v,w,b,M,k,x,A,_,S,E,P;return(0,n.Jh)(this,(function(O){switch(O.label){case 0:return f=t.data,p=t.url,d=t.format,h=t.formatOptions,f||p?(g=f,f||!p?[3,35]:"geojson"!==d?[3,3]:[4,fetch(p)]):[2,{features:[]}];case 1:return[4,(k=O.sent()).json()];case 2:g=O.sent(),O.label=3;case 3:return"geobuf"!=d?[3,6]:[4,fetch(p)];case 4:return[4,(k=O.sent()).arrayBuffer()];case 5:g=O.sent(),O.label=6;case 6:return"flatgeobuf"!=d?[3,34]:[4,r.e(261).then(r.bind(r,8351))];case 7:return y=O.sent(),g={type:"FeatureCollection",features:[]},h&&h.rect?[4,y.geojson.deserialize(p,h.rect)]:[3,21];case 8:m=O.sent(),O.label=9;case 9:O.trys.push([9,14,15,20]),v=!0,w=(0,n.KL)(m),O.label=10;case 10:return[4,w.next()];case 11:if(b=O.sent(),e=b.done)return[3,13];s=b.value,v=!1;try{S=s,g.features.push((0,n.pi)({},S))}finally{v=!0}O.label=12;case 12:return[3,10];case 13:return[3,20];case 14:return M=O.sent(),o={error:M},[3,20];case 15:return O.trys.push([15,,18,19]),v||e||!(i=w.return)?[3,17]:[4,i.call(w)];case 16:O.sent(),O.label=17;case 17:return[3,19];case 18:if(o)throw o.error;return[7];case 19:return[7];case 20:return[3,34];case 21:return[4,fetch(p)];case 22:k=O.sent(),O.label=23;case 23:O.trys.push([23,28,29,34]),x=!0,A=(0,n.KL)(y.geojson.deserialize(k.body)),O.label=24;case 24:return[4,A.next()];case 25:if(_=O.sent(),a=_.done)return[3,27];l=_.value,x=!1;try{S=l,g.features.push((0,n.pi)({},S))}finally{x=!0}O.label=26;case 26:return[3,24];case 27:return[3,34];case 28:return E=O.sent(),u={error:E},[3,34];case 29:return O.trys.push([29,,32,33]),x||a||!(c=A.return)?[3,31]:[4,c.call(A)];case 30:O.sent(),O.label=31;case 31:return[3,33];case 32:if(u)throw u.error;return[7];case 33:return[7];case 34:return[3,36];case 35:"geobuf"==d&&(g=(0,V.b$)(g)),O.label=36;case 36:return"geobuf"!=d?[3,38]:[4,r.e(821).then(r.t.bind(r,3614,23)).then((function(t){return t.default}))];case 37:P=O.sent(),g=(0,B.decode)(new P(g)),O.label=38;case 38:return"Feature"===g.type&&(g={type:"FeatureCollection",features:[g]}),g.features=g.features.map((function(t,e){return t.properties||(t.properties={}),t.properties.cluster||(t.properties.cluster=!1),t.properties.id||(t.properties.id=e),t})),[2,g]}}))}))}(e).then((function(r){l.current=r,t&&(u.on("mouseover",y),u.on("mouseout",m),u.on("click",g),i.on("moveend",h)),e.cluster&&(c.current=U(r,i,e.superClusterOptions)),q(u,e,i,r,c.current,f),d.current=!1}))};(0,o.useEffect)((function(){return u.options=N(e,i,c),v(!0),function(){u.off("mouseover",y),u.off("mouseout",m),u.off("click",g),i.off("moveend",h)}}),[u]),(0,o.useEffect)((function(){if(!d.current){if(p.current!==e){var t=p.current,r=!1,o=!1,s=!1,a=t.hideout!==e.hideout;a||z.forEach((function(r){t[r]!==e[r]&&(a=!0)})),a&&(r=!0,o=!0),t.cluster!==e.cluster&&(s=e.cluster,r=!0,o=!0),t.superClusterOptions!==e.superClusterOptions&&(s=!0,o=!0),t.data===e.data&&t.url===e.url&&t.format===e.format&&t.formatOptions===e.formatOptions||(o=!1,s=!1,v()),s&&(c.current=U(l.current,i,e.superClusterOptions)),r&&(u.options=(0,n.pi)((0,n.pi)({},u.options),N(e,i,c))),o&&q(u,e,i,l.current,c.current,f)}p.current=e}}),[t,e,u])}(i.current,t),i}));const Y=function(t){return i().createElement(J,(0,n.pi)({},t))}}}]);